---
layout: post
author: Bob Guo
title: 昨天，今天，明天
subtitle: ThinkPad T430评测
date: 2021-1-11
tags: 捡垃圾 笔记本 商务本 ThinkPad
published: true #write true to publish this article.
---
# 昨天 
IBM首创的ThinkPad系列几乎是以一己之力定义了“商务笔记本”（虽然在很长一段时间里笔记本的目标用户几乎都是商务用户），通体漆黑的配色、大和实验室以日式便当盒取得灵感设计的四方外壳，以及一切为了实用而设计的TrackPad，这些元素或多或少的都仍然在现代商务本中发光发热。我之前评测的那台Latitude E7470也有这些历史的遗迹。除开机器，IBM这一品牌本身以及其全球覆盖的优质售后服务也是跨国企业IT部门批量采购的定心丸。可以说，ThinkPad在曾经的商务本市场里是有着无可取代的地位的。  
2008年，随着酷睿2的上市，ThinkPad也加入了轰轰烈烈的笔记本宽屏赛道，推出了ThinkPad T400.虽然这台机器抛弃了被大量ThinkPad粉丝所钟爱的4:3屏幕比例，但也更加适应新时代的笔记本潮流。  
而T430则是这款经典模具的绝唱。搭载Socket G2的22nm Ivy Bridge架构处理器，可选配NVIDIA Quadro NVS5400 1GB独立显卡、最高16G双通道内存、最高三SSD与九芯电池，加之QM77芯片组支持的原生SATA3和USB3也使得它的寿命相较于之前的机器又得到了延长。可以说，除了屏幕比较差、尺寸比较丰满以及使用新式巧克力键盘之外，即使从今天的眼光来看它几乎没有缺点。  
## 平台
![CPU Info](/img/t430/lscpu.png)
![CPU ID](/img/t430/cpuid.png)
Ivy Bridge架构是Tick Tock仍然有效的2012年推出的、Intel 22nm的初试啼声。这一架构不仅在技术上相较上一代Sandy Bridge有大量的改进（例如支持PCIe Gen 3），更是乘着Intel大力推进Ultrabook的东风出现了许多脍炙人口、直至今日都被人津津乐道的优秀设计。而在桌面端，E3V2与后继者（Haswell的E3V3)把E3神教发扬光大；HEDT平台的Xeon E5系列时至今日仍然在垃圾佬心中有着重要的地位。  
![PCIe Devices & USB Devices](/img/t430/lspci&lsusb.png)
好马配好鞍，虽然QM67平台的T420也能安装这些处理器，但要完全发挥其特性就必须使用QM77平台的主板。如同Zen 2架构的处理器在400系列主板上无法使用PCIe 4.0一样，PCIe 3.0、USB3、SATA3这些功能在QM67上也是无法实现的。当然，对于T420/30来说，PCIe的问题倒真的不是很大（笑）。
## 显卡
虽然有一个可选的NVIDIA NVS 5400M显卡，但是这张显卡毕竟是GF108核心，到底在多少使用环境下能够有明显提升确实需要打一个问号。我绞尽脑汁也只能想到在一些ISV应用程序中可能可以有效利用其Quadro的一些特性，至于我这样的普通用户更偏向的多媒体应用与游戏么......先不说其屏幕的素质，这性能能跟Intel HD Graphics 4000拉开多少差距？再加上独立显卡的提高的售价与拖累续航，需不需要上独显就看个人了，反正我是没上。
## 屏幕
![Display](/img/t430/b.jpg)
在我个人看来，这台机器最拉挎的地方就是屏幕了。也是我运气好，自己的第一台笔记本-戴尔Inspiron 7352 2-in-1是一台14寸的FHD翻转本，我对于笔记本屏幕的要求一直不低，而很显然，这些老款商务本的屏幕同时受到LVDS接口带宽、商业策略和供应链方面的限制。首先，14英寸尺寸的、使用LVDS接口的FHD面板即使是今天也极为稀少，更不要提这个模具刚刚诞生的2008年。其次，LVDS本身的带宽也极为有限。单通道LVDS接口最高只能支持1400x1050@60fps,若要提升到2048x1536@60fps则需要双通道LVDS。两者配合起来，加上彼时这些笔记本的目标客户其实并不特别看重屏幕素质，就指向了这两个选择。这台机器的官方选择包括一个经典的768P45TN，和一个略有提升的900P45TN，而至于TP粉丝社区的魔改么，1440P，HDR,IPS，99%sRGB听起来如何？
## 键盘
![Keyboard Front](/img/t430/keyboard_front.jpg)
![Keyboard back](/img/t430/keyboard_rear.jpg)
当时T430很有争议的一个点就是联想第一次抛弃了ThinkPad上经典的七行键盘采用了全新的巧克力键盘。从我个人的角度来说，由于并未经历七行键盘的年代，这种新式的键盘布局反而更适合我的使用习惯与体验。除了左下角Fn与Ctrl这一对在BIOS中可以调整的按键的布局之外其他的按键布局对我来说简直是如同刻入了DNA，完全不需要习惯直接上手就能使用。而且，如果真的需要，只需要屏蔽主板键盘接口的几个pin就能够直接安装T420的七行键盘，虽然确实略有不便但起码不是毫无希望。
## 磁盘
2012年，没有什么NVMe，当时的明日之星叫做mSATA。而且，固态硬盘也远远没有普及。当时的主流，是一个8GB或16GB的小容量固态硬盘，配合Intel快速存储技术加速机械硬盘。这一思路有点类似近年来部分中低端机型采用的傲腾+机械盘设计理念，但在当时也确实算是权衡之后的产物。这几代ThinkPad上的mSATA接口其实是给3G网卡用的miniPCIE接口，只不过同时接了SATA信号上去。虽然只给了SATA2,但是毕竟固态硬盘最重要的4K和IOPS并不会遭到太大的影响，所以倒也没啥问题。不过，光驱位是SATA3,但是mSATA只给SATA2这个......我个人是看不懂。
## 网络 
![Wireless](/img/t430/wireless.jpg)
由于是没有太多尺寸限制的正经商务本，所以我们常见的WiFi、蓝牙、RJ45和3G是一应俱全的。我的机器上因为需求的问题只有WiFi、蓝牙和有线网，3G网卡因为我要安装mSATA固态硬盘所以没有使用。  
无线网络方案是英特尔迅驰6205,在无数的old school笔记本里常见的方案。双频300Mbps，即使是2021年的现在在大多数环境下也没有更换的必要（要装黑苹果那是特殊需求），在我的R6300V2的网络环境下能稳定20M（路由器性能限制）。  
蓝牙方案是博通BCM20702方案，独立安装在掌托处，拆装比较麻烦，好在在Windows和Linux下都是免驱的，一般也没必要拆装。
RJ45方案则是软路由的常客-Intel 82579LM。这张卡就不用我过多介绍，大家都认识。
# 今天
## 外观与接口
无论这台机器在设计上有多么注重寿命，时代的洪流仍然是无法阻挡的。而且，因为我认为把一台机器用到报废才是对它的尊重，以及我自己手艺不精+这台机器曾经摔过一次，我手上机器的橙色很差。
![A](/img/t430/a.jpg)
![B](/img/t430/b.jpg)
![C](/img/t430/c.jpg)
![D](/img/t430/d.jpg)
A面都是划痕，B面是脱落的、C面键盘功能键的盖板是脱落的，D面摔掉了一个角。不过，尽管如此，它仍然坚强地在工作。
![Left IO](/img/t430/left.jpg)
![Back IO](/img/t430/back.jpg)
![Right IO](/img/t430/right.jpg)
![Dock Connector](/img/t430/d.jpg)
IO方面，这台机器有四个USB（两个USB3、两个USB2）、两个视频输出（miniDP与VGA）、SD卡插槽、RJ45、音频输出、ExpressCard和拓展坞接口。这样的IO我个人是已经觉得很够了，但是your mileage may very。
## 性能
我使用的机器搭载了一颗3630QM（QM）处理器，16G内存，256G建新mSATA系统盘。操作系统是Ubuntu 20.04 LTS与Windows 10 专业工作站版，软件包、驱动程序和操作系统全部升级到官方提供的最新版本。
![Spec](/img/t430/spec.jpg)
### 理论性能
#### UnixBench
UnixBench在我之前的评测里出现过很多次，就不做过多介绍了。这是一个可以在Unix/类Unix环境下运行的跑分软件，对CPU的性能进行综合测试。还是老样子，文件挂GitHub.
#### 鲁大师
娱乐大师，看看就好。两个不同版本分别跑了一次分。
![Old Ludashi](/img/t430/lds_old.jpg)
![New Ludashi](/img/t430/lds_new.png)
相较于之前[Latitude 5175的评测](https://pegionfish.github.io/2020/09/14/latitude-5175-review/)结果，可以发现在老版鲁大师中，这颗CPU的性能达到了6y30的三倍以上，但显卡性能略逊一筹。由于T430内存容量是5175的四倍，所以内存性能也超出一截，只有磁盘性能是无可争议的落后。想想也是，一张限制在SATA2速度下的mSATA硬盘，怎么跟一张顶级的NVMe固态硬盘比跑分呢？
#### AIDA64+FurMark
对设备的理论性能与性能释放进行测试，分别进行GPGPU测试、内存缓存速度测试、单烤FPU、单烤GPU和双烤测试。
##### GPGPU测试
![GPGPU](/img/t430/gpgpu.png)
这一测试针对GPU的OpenGL理论性能进行测试。相较于之前测试的Mac Mini 2009,这台机器上的HD4000在任何一个领域都实现了完全无可争议的吊打。
##### 内存缓存速度测试
![RAM & Cache](/img/t430/cachemen.png)
内存延迟不太好看，其他都还算合理。说实话，我个人对内存的需求是容量最先，延迟时序这些我是真的完全不懂，还是比较丢人的2333
#### 3DMark
![Sky Driver](/img/t430/skydriver.png)
由于HD4000集显本身的限制，3DMark只能够运行Sky Driver测试。成绩是1825分，参看右侧图表可以发现显卡一直运行在1000Mhz以上（中间的突然下跌是切换运行项目），鉴于3630QM上这张显卡的最高频率是1150,应该是贴线跑完。  
![Sky Driver Stress Test](/img/t430/stress.png)
不过，真正厉害的还是在压力测试上。QM处理器的集成显卡其完整度竟然高达99.4%。确实惊人。
#### 烤鸡测试
这才是ThinkPad T430真正闪光的地方。  
![FPU](/img/t430/fpu.png)
在单烤FPU的环境下，机器最高温度达到102摄氏度，Package功耗最高飙到40w，频率2.8Ghz。虽然CPU温度极高但由于机器的厚度其温度对于用户来说是真的无感知。而且，此时机器已经过热降频了30%，这一性能表现远超我的预期-已经能跟一些中低端游戏本过两招的性能释放在一台商务本上出现。而且请注意，这台机器的官方SKU中*并没有*四核处理器的选项。
![FPU & GPU](/img/t430/fpu&gpu.png)
在单烤FPU+使用FurMark进行GPU烤机时，Package功耗进一步提升到45w左右，IA cores功耗23w，GT Core功耗18w，此时CPU频率在2.2Ghz-2.3Ghz左右，且1024x768下的FurMark测试成绩是7-10fps左右。不过，很奇怪的是（看图也有），在一段时间的烤机后，CPU频率会下跌到1.8Ghz左右，然后又继续恢复正常，此时GPU性能也下跌，但功耗表上没有明显变动。目前未知这一问题出现的原因，但我个人估计是因为笔记本的功耗管理介入。
![GPU](/img/t430/gpu.png)
在单烤GPU的时候，GPU本身的功耗极限仍然保持在18w左右。  
综上三个不同跑分情况可以看出，这一机型的功耗分配偏向是先满足GPU再满足CPU，这一偏向其实更偏向游戏本的设计，但鉴于这台机器扎实的设计能够保证在任何非跑分情况下的性能释放，我个人并不反对这一设计思路。
#### PCMark
在PCMark 10 标准版测试中，这台机器获得了2756分。具体的成绩单也放到GitHub上，大家可以自行去下载阅读。
#### Cinebench R23
![Single Core](/img/t430/cinebench_single.png)
![Multi Core](/img/t430/cinebench_multi.png)
![Result](/img/t430/cinebench_result.png)
在进行Cinebench R23单核测试时，频率最高上到3.3Ghz，稳定在3.2Ghz，IA Cores功耗13w，最终成绩656。
多核测试时IA Core功耗33w，频率最高3.1Ghz，稳定在3.0Ghz，最终成绩2930分。MP Ratio 4.47倍，应该来说符合多线程四核系统的预期。
### 实际应用
#### Linux内核编译
![Linux Kernel Build](/img/t430/kernel.png)
还是老样子：Ubuntu 20.04，默认内核配置文件，编译。总共时长50分钟，跟我之前评测的Elitebook 765 G4差不多，但后者是几年之后的新机器，更轻薄省电，而且还运行在带有桌面环境的旧版内核下编译（这台机器运行Ubuntu 20.04 LTS Server）。假设给2700U解锁功耗墙让它能在40w的限制下运作，3630QM将会毫无还手之力。
#### 游戏
游戏测试环节，我会测试两个游戏:CS：S和Tomb Raider 2009。这两个游戏都有自带的跑分测试，在默认画质、1366x768p分辨率下运行。
![Tomb Raider](/img/t430/tr.jpg)
古墓丽影跑出了最高48最低29平均39.5的好成绩，已经能够以电影标准游玩了。
![Counter Strike Source](/img/t430/css.png)
反恐精英起源则是160fps的电竟级表现，要玩是真的没问题，不过有一说一到底有多少电脑玩这个会有问题呢？
## 拆机
old school商务本的拆机是很有意思的。说难吧，都是卡扣螺丝这些见过十万甚至九万次的东西，对于老玩家来说真的没有任何难度。但是说简单吧，即使是熟练工没个半个小时也真的难以搞定。不过，更换内存硬盘等部件还是非常简单的，只需要三五颗螺丝就可以轻松地更换mSATA硬盘、内存条、SATA硬盘和光驱，这对于企业IT部门来说来说自然是福音。从我个人的角度来说，这样的设计在机器的稳固和维护之间做了一个较优的平衡，虽然代价是机器尺寸上绝对没有任何优势，但作为一个习武之人这对我来说没有任何问题。  
由于这破玩意儿完整拆机还是太麻烦了，我打算下次魔改的时候再记录，这里就不再过多赘述。
## Coreboot
我们都知道，Ivy Bridge架构支持Coreboot和Libreboot等自由固件的机器相较之后的产品要更多，而ThinkPad这一产品线自然也不例外。对于我这样一个自由软件的支持者来说，不尝试自己编译一份简直是天理难容。  
由于刷入Coreboot后的一系列操作内容比较丰盛，我会在之后额外写一篇文章研究。
# 明天
在我敲下这篇文章的2021年年初，这台电脑仍然足以应付我的日常使用需求：扣字聊天刷知乎，甚至可以编译一点项目和玩玩Minecraft。但是，这些需求已经完全没有必要依靠这一台厚重的商务本来进行。考虑到ThinkPad的信仰成分，以及四核处理器和16G DDR3内存的价格，整套系统的价格真的不一定很香。不过，这台机器毕竟是一代经典，我个人认为如果你是一个笔记本玩家这台机器是一定不能错过的。即使作为备用机使用，其性能目前也仍然不算落伍，是少有的能兼顾收藏和实用属性的经典机型。  
现在市面上主流的笔记本其实已经很难看出T430的痕迹，很多当时的设计已经被历史和时代所抛弃。现在的顶级商务本中已经很难看见可更换的内存条和多硬盘位，可更换CPU和外置电池也已经成为上个世代的遗产，甚至连固态硬盘都全部焊接。但，T430这样的旧时代机皇也没有USB-C PD充电、高素质屏幕、Thunderbolt这样的大带宽接口，以及高速的存储器和省电的CPU还有更高性能的图形方案，全部封装在一个更轻便的package里，并以一个更低廉的价格出售。对于这些电脑理论上的目标客户来说，我所怀念的可能他们并不关心，我所厌恶的对他们也感知不强。对于他们来说，电脑只是一个工具，而更轻便、更舒适的使用体验相较于自行维护显然是一个no brainer。而且，某种意义上，我也不反对这样做。  
对于购买这些高端商务本的企业用户来说，定期淘汰本身就是计划中的事情，只要产品能够在保修期内得到厂家的服务，产品内部如何设计他们真的会关心吗？尤其是现在企业上云的趋势导致终端内部数据的重要性也越来越低，终端更换一台马上就能继续工作也已经是一个很成熟的商业化方案。  
至于个人用户，我只能说尽量挑好机器，实在不行买个OneDrive/U盘，做好备份。  
话又说回来，大家都知道，我的“主力笔记本”其实已经换了很多次了。对于我来说，可能真正完美的搭配是一台巨型板砖配合Surface Pro/Eve V这样的、有一定性能但更偏重轻薄的机器。